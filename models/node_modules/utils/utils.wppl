var discretizeBeta = function(gamma, delta){
	var shape_alpha =  gamma * delta
	var shape_beta = (1-gamma) * delta
	var betaPDF = function(x){
	  return Math.pow(x,shape_alpha-1)*Math.pow((1-x),shape_beta-1)
	}
	return map(betaPDF, [0.01,0.1,0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,0.99])
}

var fillArray = function(n, val){
    return repeat(n, function(x){return val})
}

var shape_alpha = function(gamma,delta){return gamma * delta}
var shape_beta = function(gamma,delta){return (1-gamma) * delta}

var avoidEnds = function(response){
    return response<=0 ? 0.001 : response>=1 ? 0.999 : response
}

var discretizeBetaMixture = function(mix, gamma_1, delta_1, gamma_2, delta_2){
	Enumerate(function(){
		return flip(mix) ? discretizeBeta(gamma_1, delta_1) : discretizeBeta(gamma_2, delta_2)
	})
}